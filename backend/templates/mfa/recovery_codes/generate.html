{% load i18n %}
{% load allauth %}
{% block content %}
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
<style>
html,
body {
  height: 100%;
}

body {
  display: -ms-flexbox;
  display: flex;
  -ms-flex-align: center;
  align-items: center;
  padding-top: 40px;
  padding-bottom: 40px;
  background-color: #f5f5f5;
}

.form-signin {
  width: 100%;
  max-width: 360px;
  padding: 15px;
  margin: auto;
}
</style>

<script>
    // custom domain here
  window.location.href = "http://127.0.0.1:3000";
</script>

<div class="container-fluid text-center">

    {% url 'mfa_generate_recovery_codes' as action_url %}

    <form class="form-signin" method="post" action="{{ action_url }}">
        {% csrf_token %}


        <h1 class="h3 mb-3 font-weight-normal {% if unused_code_count %}text-danger{% endif %}">
            {% trans "Generate Recovery Codes" %}
        </h1>

        <p class="text-muted small mb-4">
            {% blocktranslate %}
            You are about to generate a new set of recovery codes for your account.
            {% endblocktranslate %}
            {% if unused_code_count %}
                <br>
                <strong class="text-danger">
                    {% trans "This action will invalidate your existing recovery codes." %}
                </strong>
            {% endif %}
            <br>
            {% trans "Are you sure?" %}
        </p>

        {# hidden confirmation fields, if any #}
        {{ form.non_field_errors }}
        {% for field in form %}
            {{ field }}
        {% endfor %}

        <button
            class="btn btn-lg {% if unused_code_count %}btn-danger{% else %}btn-primary{% endif %} btn-block"
            type="submit"
        >
            {% trans "Generate" %}
        </button>

        <p class="mt-5 mb-3 text-muted">
            &copy; {{ now|date:"Y" }}
        </p>
    </form>

</div>

{% endblock content %}